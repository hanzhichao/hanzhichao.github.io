<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[JVM工作原理]]></title>
      <url>/2017/11/02/JVM%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.html</url>
      <content type="html"><![CDATA[<h1 id="JVM工作原理"><a href="#JVM工作原理" class="headerlink" title="JVM工作原理"></a>JVM工作原理</h1><blockquote>
<p>堆 新生代，老年代 栈</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 性能调优 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> JVM </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[tomcat]]></title>
      <url>/2017/11/02/Tomcat%E5%88%86%E6%9E%90%E8%B0%83%E4%BC%98.html</url>
      <content type="html"><![CDATA[<h1 id="Tomcat-调优总结"><a href="#Tomcat-调优总结" class="headerlink" title="Tomcat 调优总结"></a>Tomcat 调优总结</h1><blockquote>
<p>tomcat 优化分为系统优化、JVM调优、tomcat本身优化</p>
</blockquote>
<h2 id="系统优化"><a href="#系统优化" class="headerlink" title="系统优化"></a>系统优化</h2><h3 id="调整tomcat内存占用"><a href="#调整tomcat内存占用" class="headerlink" title="调整tomcat内存占用"></a>调整tomcat内存占用</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="meta-keyword">/usr/</span>share<span class="meta-keyword">/tomcat8/</span>bin/catalina.sh</span><br><span class="line">设置JAVA_OPT=<span class="string">"-Xms 1024m -Xmx 1520m"</span></span><br><span class="line">-Xms tomcat启动初始内存，一般为服务器开机空闲内存<span class="number">-100</span>M</span><br><span class="line">-Xmx tomcat最大占用内存</span><br></pre></td></tr></table></figure>
<h2 id="JVM优化"><a href="#JVM优化" class="headerlink" title="JVM优化"></a>JVM优化</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JVM堆的大小决定了垃圾回收的时间和频度。</span><br><span class="line">堆设置的很大，完全垃圾收集就会很慢，频度会降低，相反，完全收集就很快，但是会更频繁。</span><br><span class="line">调整目标：最小化垃圾收集时间，一在特定的时间内最大化处理客户请求</span><br><span class="line">一般堆设置为物理内存的<span class="number">80</span>%,一次完全的垃圾收集不应超过<span class="number">3</span><span class="number">-5</span>s</span><br><span class="line">当增加处理器时，需要增加内存，应为内存分配时并行的，而垃圾回收不是并行的</span><br></pre></td></tr></table></figure>
<h2 id="tomcat本身优化"><a href="#tomcat本身优化" class="headerlink" title="tomcat本身优化"></a>tomcat本身优化</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/tomcat8/server.xml</span><br><span class="line">&lt;Connector /&gt;配置中</span><br><span class="line">maxThreads=<span class="string">"150"</span> 最大线程数，window最大是2000，linux最大是1024</span><br><span class="line">minSpareThreads=<span class="string">"25"</span> 最小空等待线程-没有连接时也开启25个空线程等待</span><br><span class="line">maxSpareThreads=<span class="string">"75"</span> 最多空线程数，一旦超过这个值，tomcat就会关闭不再需要的socket线程</span><br><span class="line">acceptCount=<span class="string">"100"</span> 最大排队数量，当同时连接数量达到maxThreads时，还可以接收排队的连接数量，超过这个数量，直接返回拒绝连接</span><br><span class="line">enableLookups=false 是否反查域名，配置为false可以提高处理能力</span><br><span class="line">connectionTimeout=30000 网络连接超时，单位：毫秒，设置为0表示永不超时</span><br><span class="line">maxKeepAliveRequest=<span class="string">"1"</span> 等待响应次数，每个连接只响应一次就关闭，这样就不会等待timeout,而产生大量的TIME_WAIT连接</span><br><span class="line">buffersize=<span class="string">"2048"</span>  输入流缓冲大小</span><br><span class="line">compression=<span class="string">"off"</span>  压缩传输，取值on/off/force</span><br></pre></td></tr></table></figure>
<p>最新的tomcat7,tomcat8只剩下两个参数</p>
]]></content>
      
        <categories>
            
            <category> 性能调优 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> tomcat </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[osi]]></title>
      <url>/2017/11/02/OSI%207%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B.html</url>
      <content type="html"><![CDATA[<h1 id="OSI-7-层网络模型"><a href="#OSI-7-层网络模型" class="headerlink" title="OSI-7 层网络模型"></a>OSI-7 层网络模型</h1><blockquote>
<p>OSI即Open System Internet开放系统互联,分为上3层（总应用层）和下4层（总传输层）</p>
</blockquote>
<p>从下至上分别为：</p>
<ul>
<li>物理层—主要包含网卡/网线等物理设备、负责处理比特流信息，主要协议有ISO2000,</li>
<li>数据链路层—主要负责内网之间的地址转发，数据被封装层帧，代表设备有二层交换机/集线器等，主要协议有：</li>
<li>网络层—主要负责网络上的寻址，数据被封装成段，代表设备为交换机，主要协议有：</li>
<li>传输层—负责连接的建立与释放，数据完整性等，主要协议有TCP/UDP</li>
</ul>
<hr>
<ul>
<li>会话层—负责会话的建立</li>
<li>应用层—负责编码的统一，加密，SSL协议</li>
<li>表示层—负责用户的使用，主要协议有HTTP,FTP,SMTP,DNS,Telnet等</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 性能调优 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> osi </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
