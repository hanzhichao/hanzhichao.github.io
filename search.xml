<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[tomcat]]></title>
      <url>/2017/11/02/tomcat.html</url>
      <content type="html"><![CDATA[<h1 id="Tomcat-调优总结"><a href="#Tomcat-调优总结" class="headerlink" title="Tomcat 调优总结"></a>Tomcat 调优总结</h1><blockquote>
<p>tomcat 优化分为系统优化、JVM调优、tomcat本身优化</p>
</blockquote>
<h2 id="系统优化"><a href="#系统优化" class="headerlink" title="系统优化"></a>系统优化</h2><h3 id="调整tomcat内存占用"><a href="#调整tomcat内存占用" class="headerlink" title="调整tomcat内存占用"></a>调整tomcat内存占用</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">vim <span class="meta-keyword">/usr/</span>share<span class="meta-keyword">/tomcat8/</span>bin/catalina.sh</div><div class="line">设置JAVA_OPT=<span class="string">"-Xms 1024m -Xmx 1520m"</span></div><div class="line">-Xms tomcat启动初始内存，一般为服务器开机空闲内存<span class="number">-100</span>M</div><div class="line">-Xmx tomcat最大占用内存</div></pre></td></tr></table></figure>
<h2 id="JVM优化"><a href="#JVM优化" class="headerlink" title="JVM优化"></a>JVM优化</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">JVM堆的大小决定了垃圾回收的时间和频度。</div><div class="line">堆设置的很大，完全垃圾收集就会很慢，频度会降低，相反，完全收集就很快，但是会更频繁。</div><div class="line">调整目标：最小化垃圾收集时间，一在特定的时间内最大化处理客户请求</div><div class="line">一般堆设置为物理内存的<span class="number">80</span>%,一次完全的垃圾收集不应超过<span class="number">3</span><span class="number">-5</span>s</div><div class="line">当增加处理器时，需要增加内存，应为内存分配时并行的，而垃圾回收不是并行的</div></pre></td></tr></table></figure>
<h2 id="tomcat本身优化"><a href="#tomcat本身优化" class="headerlink" title="tomcat本身优化"></a>tomcat本身优化</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">vim /etc/tomcat8/server.xml</div><div class="line">&lt;Connector /&gt;配置中</div><div class="line">maxThreads=<span class="string">"150"</span> 最大线程数，window最大是2000，linux最大是1024</div><div class="line">minSpareThreads=<span class="string">"25"</span> 最小空等待线程-没有连接时也开启25个空线程等待</div><div class="line">maxSpareThreads=<span class="string">"75"</span> 最多空线程数，一旦超过这个值，tomcat就会关闭不再需要的socket线程</div><div class="line">acceptCount=<span class="string">"100"</span> 最大排队数量，当同时连接数量达到maxThreads时，还可以接收排队的连接数量，超过这个数量，直接返回拒绝连接</div><div class="line">enableLookups=false 是否反查域名，配置为false可以提高处理能力</div><div class="line">connectionTimeout=30000 网络连接超时，单位：毫秒，设置为0表示永不超时</div><div class="line">maxKeepAliveRequest=<span class="string">"1"</span> 等待响应次数，每个连接只响应一次就关闭，这样就不会等待timeout,而产生大量的TIME_WAIT连接</div><div class="line">buffersize=<span class="string">"2048"</span>  输入流缓冲大小</div><div class="line">compression=<span class="string">"off"</span>  压缩传输，取值on/off/force</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 性能调优 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> tomcat </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[osi]]></title>
      <url>/2017/11/02/osi.html</url>
      <content type="html"><![CDATA[<h1 id="OSI-7-层网络模型"><a href="#OSI-7-层网络模型" class="headerlink" title="OSI-7 层网络模型"></a>OSI-7 层网络模型</h1><blockquote>
<p>OSI即Open System Internet开放系统互联,分为上3层（总应用层）和下4层（总传输层）</p>
</blockquote>
<p>从下至上分别为：</p>
<ul>
<li>物理层—主要包含网卡/网线等物理设备、负责处理比特流信息，主要协议有ISO2000,</li>
<li>数据链路层—主要负责内网之间的地址转发，数据被封装层帧，代表设备有二层交换机/集线器等，主要协议有：</li>
<li>网络层—主要负责网络上的寻址，数据被封装成段，代表设备为交换机，主要协议有：</li>
<li>传输层—负责连接的建立与释放，数据完整性等，主要协议有TCP/UDP</li>
</ul>
<hr>
<ul>
<li>会话层—负责会话的建立</li>
<li>应用层—负责编码的统一</li>
<li>表示层—负责用户的使用，主要协议有HTTP,FTP,SMTP,DNS,Telnet等</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 性能调优 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> osi </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[TestMarkdown]]></title>
      <url>/2017/11/01/TestMarkdown.html</url>
      <content type="html"><![CDATA[<h1 id="TestMarkdown"><a href="#TestMarkdown" class="headerlink" title="TestMarkdown"></a>TestMarkdown</h1><blockquote>
<p>just for test the hexo page</p>
</blockquote>
<h2 id="subtitle"><a href="#subtitle" class="headerlink" title="subtitle"></a>subtitle</h2><h3 id="subsubtitl"><a href="#subsubtitl" class="headerlink" title="subsubtitl"></a>subsubtitl</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">python</div><div class="line">def deco():</div><div class="line">    print &quot;hello,world&quot;</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Docs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> test </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2017/11/01/hello-world.html</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
      
        
    </entry>
    
  
  
</search>
